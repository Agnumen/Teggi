
import json
from pathlib import Path

CONFIG_FILE_PATH = Path("bot_config.json")

DEFAULT = {
        "ROUTINE_TEMPLATES": {
            "school_day": {
                "name": "üéí –®–∫–æ–ª—å–Ω—ã–π –¥–µ–Ω—å",
                "events": [
                    {"name": "–ü–æ–¥—ä—ë–º –∏ —Å–±–æ—Ä—ã", "start_time": "07:00", "end_time": "07:45", "tag": "quiet"},
                    {"name": "–î–æ—Ä–æ–≥–∞ –≤ —à–∫–æ–ª—É", "start_time": "08:00", "end_time": "08:30", "tag": "active"},
                    {"name": "–£—Ä–æ–∫–∏ –≤ —à–∫–æ–ª–µ", "start_time": "09:00", "end_time": "15:00", "tag": "loud"},
                    {"name": "–û–±–µ–¥", "start_time": "12:00", "end_time": "12:30", "tag": "crowd"},
                    {"name": "–î–æ—Ä–æ–≥–∞ –¥–æ–º–æ–π", "start_time": "15:00", "end_time": "15:30", "tag": "dim"},
                    {"name": "–î–æ–º–∞—à–∫–∞", "start_time": "17:00", "end_time": "18:30", "tag": "bright"},
                    {"name": "–û—Ç–¥—ã—Ö / –•–æ–±–±–∏", "start_time": "19:00", "end_time": "20:00", "tag": "calm"},
                ]
            },
            "weekend_day": {
                "name": "üå≥ –î–µ–Ω—å –Ω–∞ –∫–∞–Ω–∏–∫—É–ª–∞—Ö",
                "events": [
                    {"name": "–°–≤–æ–±–æ–¥–Ω–æ–µ —É—Ç—Ä–æ", "start_time": "10:00", "end_time": "12:00", "tag": "quiet"},
                    {"name": "–ü—Ä–æ–≥—É–ª–∫–∞ / –í—Å—Ç—Ä–µ—á–∞", "start_time": "14:00", "end_time": "16:00", "tag": "crowd"},
                    {"name": "–•–æ–±–±–∏ / –ò–≥—Ä—ã", "start_time": "17:00", "end_time": "19:00", "tag": "bright"},
                    {"name": "–£–∂–∏–Ω –∏ –æ—Ç–¥—ã—Ö", "start_time": "19:30", "end_time": "21:00", "tag": "calm"},
                ]
            }
        },
        
        "TAGS": {
            "notag": ("notag", "–ù–µ –∑–∞–±—É–¥—å –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è!"),
            "quiet": ("ü§´ —Ç–∏—Ö–æ", "–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å–≤–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –¢–∏—à–∏–Ω–∞ –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è."),
            "loud": ("üîä —à—É–º–Ω–æ", "–®—É–º –º–æ–∂–µ—Ç –º–µ—à–∞—Ç—å. –ü–æ–ø—Ä–æ–±—É–π —Å–¥–µ–ª–∞—Ç—å –ø–∞—É–∑—É, —á—Ç–æ–±—ã –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è."),
            "crowd": ("üë• –º–Ω–æ–≥–æ –ª—é–¥–µ–π", "–ï—Å–ª–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–µ—Å–Ω–æ, –Ω–∞–π–¥–∏ –º–æ–º–µ–Ω—Ç –¥–ª—è –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –ø–µ—Ä–µ—Ä—ã–≤–∞."),
            "bright": ("üí° —è—Ä–∫–∏–π —Å–≤–µ—Ç","–°–≤–µ—Ç –≤–ª–∏—è–µ—Ç –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ. –ü–æ—Å–º–æ—Ç—Ä–∏ –≤ –æ–∫–Ω–æ, –µ—Å–ª–∏ –≥–ª–∞–∑–∞ —É—Å—Ç–∞—é—Ç."),
            "dim": ("üåô —Ç—É—Å–∫–ª—ã–π —Å–≤–µ—Ç", "–í–µ—á–µ—Ä–Ω–∏–π —Å–≤–µ—Ç –ø—Ä–∏–≥–ª—É—à–∞–µ—Ç —Ä–∏—Ç–º. –•–æ—Ä–æ—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –æ—Ç–¥—ã—Ö–∞."),
            "calm": ("üßò‚Äç‚ôÇÔ∏è —Å–ø–æ–∫–æ–π–Ω–æ", "–ù–∞—Å–ª–∞–¥–∏—Å—å –º–æ–º–µ–Ω—Ç–æ–º —Ç–∏—à–∏–Ω—ã –∏ –ø–æ–∫–æ—è. –û–Ω –ø–æ–º–æ–≥–∞–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å."),
        },
        "DAY_TAGS": {
            "üßò‚Äç‚ôÇÔ∏è —Å–ø–æ–∫–æ–π–Ω–æ": "calm",
            "üèÉ‚Äç‚ôÇÔ∏è –∞–∫—Ç–∏–≤–Ω–æ": "active",
            "ü§Ø —Å—É–µ—Ç–ª–∏–≤–æ": "hectic",
            "üò¥ —Å–æ–Ω–Ω–æ": "sleepy"
        },
        "FEELINGS": {
            "üôÇ –û—Ç–ª–∏—á–Ω–æ": "great",
            "üòê –ù–æ—Ä–º–∞–ª—å–Ω–æ": "ok",
            "üôÅ –¢—è–∂–µ–ª–æ": "bad"
        },
    }

def _load_data():
    """–ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ JSON —Ñ–∞–π–ª–∞."""
    if CONFIG_FILE_PATH.exists():
        with open(CONFIG_FILE_PATH, 'r', encoding='utf-8') as f:
            return json.load(f)

    # –î–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω
    return DEFAULT

def save_data():
    """–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–∞–π–ª."""
    with open(CONFIG_FILE_PATH, 'w', encoding='utf-8') as f:
        json.dump(BOT_CONFIG, f, ensure_ascii=False, indent=4)

BOT_CONFIG = _load_data()

ROUTINE_TEMPLATES = BOT_CONFIG["ROUTINE_TEMPLATES"]
TAGS = BOT_CONFIG["TAGS"]
DAY_TAGS = BOT_CONFIG["DAY_TAGS"]
FEELINGS = BOT_CONFIG["FEELINGS"]
